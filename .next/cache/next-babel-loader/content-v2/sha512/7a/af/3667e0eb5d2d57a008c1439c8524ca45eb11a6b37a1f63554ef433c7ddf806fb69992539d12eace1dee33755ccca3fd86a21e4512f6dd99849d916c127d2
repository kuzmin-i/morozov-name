{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/ikuzmin/Documents/morozov-name/components/map.js\";\nimport React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as THREE from \"three\";\nimport GLTFLoader from 'three-gltf-loader';\n\nclass Map extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      'step': this.props.step\n    };\n  }\n\n  componentDidMount() {\n    if (!this.props.webgl) {\n      console.log('Up');\n      var scene = new THREE.Scene();\n      var camera = new THREE.PerspectiveCamera(75, window.innerWidth / 2 / window.innerHeight, 0.1, 1000);\n      var renderer = new THREE.WebGLRenderer();\n      renderer.setSize(window.innerWidth / 2, window.innerHeight);\n      document.querySelector('.Map').appendChild(renderer.domElement);\n      var geometry = new THREE.BoxGeometry(1, 1, 1);\n      var material = new THREE.MeshBasicMaterial({\n        color: 0x00ff00\n      });\n      const loader = new GLTFLoader();\n      var cube;\n      /*var cube = new THREE.Mesh( geometry, material );*/\n\n      camera.position.z = 1045;\n      const _add3DObject = this.props.add3DObject;\n      const _webglCreated = this.props.webglCreated;\n      const __threeRender = this.props.threeRender;\n      console.log(_add3DObject);\n      loader.load('models/1.glb', function (gltf) {\n        cube = gltf.scene;\n        scene.add(cube);\n        console.log(camera, 'Camera__');\n\n        _add3DObject({\n          'scene': scene,\n          'camera': camera,\n          'renderer': renderer,\n          'object': cube,\n          'threeRender': __threeRender\n        });\n\n        _webglCreated();\n      }, undefined, function (error) {\n        console.error(error);\n      });\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.props.webgl) {\n      console.log('webglCreated');\n      this.props.rotate3DObject({\n        threeRender: this.props.threeRender\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Map;","map":{"version":3,"sources":["/Users/ikuzmin/Documents/morozov-name/components/map.js"],"names":["React","Component","ReactDOM","THREE","GLTFLoader","Map","constructor","props","state","step","componentDidMount","webgl","console","log","scene","Scene","camera","PerspectiveCamera","window","innerWidth","innerHeight","renderer","WebGLRenderer","setSize","document","querySelector","appendChild","domElement","geometry","BoxGeometry","material","MeshBasicMaterial","color","loader","cube","position","z","_add3DObject","add3DObject","_webglCreated","webglCreated","__threeRender","threeRender","load","gltf","add","undefined","error","componentDidUpdate","rotate3DObject","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as THREE from \"three\";\n\nimport GLTFLoader from 'three-gltf-loader';\n\n\nclass Map extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {'step': this.props.step}\n  }\n\n  componentDidMount() {\n    \n    if( !this.props.webgl ) {\n      console.log('Up')\n      var scene = new THREE.Scene();\n      var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / 2 / window.innerHeight, 0.1, 1000 );\n      var renderer = new THREE.WebGLRenderer();\n\n      renderer.setSize( window.innerWidth / 2, window.innerHeight );\n      document.querySelector('.Map').appendChild( renderer.domElement );\n\n      var geometry = new THREE.BoxGeometry( 1, 1, 1 );\n      var material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );\n\n      const loader = new GLTFLoader();\n\n      var cube;\n\n      \n\n      /*var cube = new THREE.Mesh( geometry, material );*/\n      \n      camera.position.z = 1045;\n\n      const _add3DObject = this.props.add3DObject;\n      const _webglCreated = this.props.webglCreated;\n      const __threeRender = this.props.threeRender\n\n      console.log(_add3DObject)\n\n     loader.load( 'models/1.glb', function ( gltf ) {\n\n     cube = gltf.scene\n\n     scene.add( cube );\n      \n      console.log(camera, 'Camera__')\n\n      _add3DObject( {'scene': scene, 'camera': camera, 'renderer': renderer, 'object': cube, 'threeRender': __threeRender} )\n\n      \n   \n      _webglCreated()\n\n         \n      }, undefined, function ( error ) {\n      \n        console.error( error );\n      \n      } );\n\n    \n      \n\n      \n\n\n\n      \n    }\n   }\n   \n   componentDidUpdate() {\n    if( this.props.webgl ) {\n      console.log('webglCreated')\n\n      this.props.rotate3DObject( { threeRender: this.props.threeRender} )\n\n    }\n  }\n\n    \n\n    \n  \n  render() {\n    return (\n      <div />\n    )\n  }\n}\n\nexport default Map"]},"metadata":{},"sourceType":"module"}