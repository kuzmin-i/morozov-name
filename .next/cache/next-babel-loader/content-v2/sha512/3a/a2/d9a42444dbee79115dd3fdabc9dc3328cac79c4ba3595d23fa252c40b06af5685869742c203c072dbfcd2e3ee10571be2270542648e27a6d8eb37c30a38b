{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _classCallCheck from \"/Users/ikuzmin/Documents/morozov-name/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ikuzmin/Documents/morozov-name/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/ikuzmin/Documents/morozov-name/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/ikuzmin/Documents/morozov-name/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/ikuzmin/Documents/morozov-name/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ikuzmin/Documents/morozov-name/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/ikuzmin/Documents/morozov-name/pages/scrollama_1.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport \"intersection-observer\";\n\nvar scrollama = require(\"scrollama\");\n\nimport React, { Component } from \"react\";\nimport ThreeRender from './three-model';\n\nvar Elements = /*#__PURE__*/function (_Component) {\n  _inherits(Elements, _Component);\n\n  var _super = _createSuper(Elements);\n\n  function Elements(props) {\n    var _this;\n\n    _classCallCheck(this, Elements);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      'step': '0',\n      'progress': '0',\n      'camera': {\n        'position': [20.369, 26.707, 43.609],\n        'rotation': [-30.31 * Math.PI / 180, 21.50 * Math.PI / 180, 12.09 * Math.PI / 180]\n      }\n    };\n    _this.changeCameraArgs = _this.changeCameraArgs.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Elements, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var scroller = scrollama();\n      scroller.setup({\n        step: \".step\",\n        progress: true\n      }).onStepProgress(function (response) {\n        _this2.setState({\n          'progress': response.progress\n        });\n\n        _this2.changeCameraArgs();\n      }).onStepEnter(function (response) {\n        _this2.setState({\n          'step': response.index\n        });\n\n        console.log(response);\n\n        _this2.changeCameraArgs();\n      }).onStepExit(function (response) {});\n      window.addEventListener('resize', scroller.resize);\n    }\n  }, {\n    key: \"changeCameraArgs\",\n    value: function changeCameraArgs() {\n      var CameraCoord = [{\n        'position': [166.206, 187.230, 120.114],\n        'rotation': [-57.12 * Math.PI / 180, 36.77 * Math.PI / 180, 43.01 * Math.PI / 180]\n      }, {\n        'position': [232.720, 150.484, -16.197],\n        'rotation': [-91.64 * Math.PI / 180, 58.48 * Math.PI / 180, 91.92 * Math.PI / 180]\n      }, {\n        'position': [80.360, 96.3480, -142.066],\n        'rotation': [-145.86 * Math.PI / 180, 25.09 * Math.PI / 180, 163.96 * Math.PI / 180]\n      }, {\n        'position': [232.720, 150.484, -16.197],\n        'rotation': [-91.64 * Math.PI / 180, 58.48 * Math.PI / 180, 91.92 * Math.PI / 180]\n      }, {\n        'position': [166.206, 187.230, 120.114],\n        'rotation': [-57.12 * Math.PI / 180, 36.77 * Math.PI / 180, 43.01 * Math.PI / 180]\n      }, {\n        'position': [166.206, 187.230, 120.114],\n        'rotation': [-57.12 * Math.PI / 180, 36.77 * Math.PI / 180, 43.01 * Math.PI / 180]\n      }, {\n        'position': [166.206, 187.230, 120.114],\n        'rotation': [-57.12 * Math.PI / 180, 36.77 * Math.PI / 180, 43.01 * Math.PI / 180]\n      }];\n      var pres = this.state.step;\n      var prev = this.state.step == 0 ? CameraCoord.length - 1 : this.state.step - 1;\n      var prevPos = CameraCoord[prev].position;\n      var prevRot = CameraCoord[prev].rotation;\n      var presPos = CameraCoord[pres].position;\n      var presRot = CameraCoord[pres].rotation;\n      this.setState({\n        'camera': {\n          'position': [prevPos[0] + (presPos[0] - prevPos[0]) * this.state.progress, prevPos[1] + (presPos[1] - prevPos[1]) * this.state.progress, prevPos[2] + (presPos[2] - prevPos[2]) * this.state.progress],\n          'rotation': [prevRot[0] + (presRot[0] - prevRot[0]) * this.state.progress, prevRot[1] + (presRot[1] - prevRot[1]) * this.state.progress, prevRot[2] + (presRot[2] - prevRot[2]) * this.state.progress]\n        }\n      });\n      console.log('step: ' + this.state.step + ', progress: ' + this.state.progress + ', Position. x: ' + this.state.camera.position[0] + ', y: ' + this.state.camera.position[1] + ', z: ' + this.state.camera.position[2]);\n      console.log('Rotation. x: ' + this.state.camera.rotation[0] * 180 / Math.PI + ', y: ' + this.state.camera.rotation[1] * 180 / Math.PI + ', z: ' + this.state.camera.rotation[2] * 180 / Math.PI);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"inline-flex\",\n          height: \"100vh\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '30vw'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step\",\n            \"data-step\": \"1\",\n            style: {\n              'width': '100%',\n              'height': '400vh',\n              'background': 'orange'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step\",\n            \"data-step\": \"2\",\n            style: {\n              'width': '100%',\n              'height': '300vh',\n              'background': 'grey'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step\",\n            \"data-step\": \"3\",\n            style: {\n              'width': '100%',\n              'height': '400vh',\n              'background': 'black'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step\",\n            \"data-step\": \"4\",\n            style: {\n              'width': '100%',\n              'height': '100vh',\n              'background': 'green'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step\",\n            \"data-step\": \"5\",\n            style: {\n              'width': '100%',\n              'height': '100vh',\n              'background': 'blue'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step\",\n            \"data-step\": \"6\",\n            style: {\n              'width': '100%',\n              'height': '100vh',\n              'background': 'orange'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Map\",\n          style: {\n            position: 'fixed',\n            'width': '100vw',\n            left: 0\n          },\n          children: /*#__PURE__*/_jsxDEV(ThreeRender, {\n            position: this.state.camera.position,\n            rotation: this.state.camera.rotation,\n            step: this.state.step,\n            progress: this.state.progress\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this);\n    }\n  }]);\n\n  return Elements;\n}(Component);\n\nexport default Elements;","map":{"version":3,"sources":["/Users/ikuzmin/Documents/morozov-name/pages/scrollama_1.js"],"names":["scrollama","require","React","Component","ThreeRender","Elements","props","state","Math","PI","changeCameraArgs","bind","scroller","setup","step","progress","onStepProgress","response","setState","onStepEnter","index","console","log","onStepExit","window","addEventListener","resize","CameraCoord","pres","prev","length","prevPos","position","prevRot","rotation","presPos","presRot","camera","display","height","width","left"],"mappings":"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","sourcesContent":["import \"intersection-observer\";\nconst scrollama = require(\"scrollama\");\n\nimport React, { Component } from \"react\";\n\nimport ThreeRender from './three-model'\n\n\nclass Elements extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            'step': '0', \n            'progress': '0',\n            'camera': {\n                'position': [20.369, 26.707, 43.609],\n                'rotation': [-30.31 * Math.PI / 180, 21.50  * Math.PI / 180, 12.09  * Math.PI / 180]\n            }\n        }\n\n        this.changeCameraArgs = this.changeCameraArgs.bind(this)\n\n    }\n\n    componentDidMount() {\n        const scroller = scrollama();\n\n        scroller.\n            setup({ \n                step: \".step\",\n                progress: true \n            })\n            .onStepProgress((response) => {\n                \n                this.setState({ 'progress': response.progress })\n\n                this.changeCameraArgs()\n            })\n            .onStepEnter((response) => {\n                this.setState({ 'step': response.index })\n                console.log(response)\n\n                this.changeCameraArgs()\n            })\n            .onStepExit((response) => {\n                \n            })\n\n        window.addEventListener('resize', scroller.resize)\n    }\n\n\n    changeCameraArgs() {\n        const CameraCoord = [\n            {\n                'position': [166.206, 187.230, 120.114],\n                'rotation': [-57.12 * Math.PI / 180, 36.77 * Math.PI / 180, 43.01 * Math.PI / 180]\n            },\n            {\n                'position': [232.720, 150.484, -16.197],\n                'rotation': [-91.64 * Math.PI / 180, 58.48 * Math.PI / 180, 91.92 * Math.PI / 180]\n            },\n            {\n                'position': [80.360, 96.3480, -142.066],\n                'rotation': [-145.86 * Math.PI / 180, 25.09 * Math.PI / 180, 163.96 * Math.PI / 180]\n            },\n            {\n                'position': [232.720, 150.484, -16.197],\n                'rotation': [-91.64 * Math.PI / 180, 58.48 * Math.PI / 180, 91.92 * Math.PI / 180]\n            },\n            {\n                'position': [166.206, 187.230, 120.114],\n                'rotation': [-57.12 * Math.PI / 180, 36.77 * Math.PI / 180, 43.01 * Math.PI / 180]\n            },\n            {\n                'position': [166.206, 187.230, 120.114],\n                'rotation': [-57.12 * Math.PI / 180, 36.77 * Math.PI / 180, 43.01 * Math.PI / 180]\n            },\n            {\n                'position': [166.206, 187.230, 120.114],\n                'rotation': [-57.12 * Math.PI / 180, 36.77 * Math.PI / 180, 43.01 * Math.PI / 180]\n            },\n        ]\n\n        let pres = this.state.step\n        let prev = (this.state.step == 0 ) ? CameraCoord.length - 1 : this.state.step - 1\n\n        let prevPos = CameraCoord[prev].position\n        let prevRot = CameraCoord[prev].rotation\n\n        let presPos = CameraCoord[pres].position\n        let presRot = CameraCoord[pres].rotation\n    \n            this.setState({\n                'camera': {\n                    'position': [\n                        prevPos[0] + (presPos[0] - prevPos[0]) * this.state.progress, \n                        prevPos[1] + (presPos[1] - prevPos[1]) * this.state.progress, \n                        prevPos[2] + (presPos[2] - prevPos[2]) * this.state.progress\n                    ],\n                    'rotation': [\n                        prevRot[0] + (presRot[0] - prevRot[0]) * this.state.progress, \n                        prevRot[1] + (presRot[1] - prevRot[1]) * this.state.progress, \n                        prevRot[2] + (presRot[2] - prevRot[2]) * this.state.progress, \n                    ]\n                }\n            })\n          \n\n\n          console.log('step: ' + this.state.step + ', progress: ' + this.state.progress + ', Position. x: ' + this.state.camera.position[0] + ', y: ' + this.state.camera.position[1] + ', z: ' + this.state.camera.position[2])\n          console.log('Rotation. x: ' + this.state.camera.rotation[0] * 180 / Math.PI + ', y: ' + this.state.camera.rotation[1] * 180 / Math.PI + ', z: ' + this.state.camera.rotation[2] * 180 / Math.PI)\n    }\n    \n   \n\n    render() {\n        return(\n        <div style={{ display: \"inline-flex\", height: \"100vh\" }}>\n            <div style={{width: '30vw'}}>\n                <div className=\"step\" data-step=\"1\" style = {{ 'width': '100%', 'height': '400vh', 'background': 'orange' }}></div>\n                <div className=\"step\" data-step=\"2\" style = {{ 'width': '100%', 'height': '300vh', 'background': 'grey' }}></div>\n                <div className=\"step\" data-step=\"3\" style = {{ 'width': '100%', 'height': '400vh', 'background': 'black' }}></div>\n                <div className=\"step\" data-step=\"4\" style = {{ 'width': '100%', 'height': '100vh', 'background': 'green' }}></div>\n                <div className=\"step\" data-step=\"5\" style = {{ 'width': '100%', 'height': '100vh', 'background': 'blue' }}></div>\n                <div className=\"step\" data-step=\"6\" style = {{ 'width': '100%', 'height': '100vh', 'background': 'orange' }}></div>\n            </div>\n            <div className = \"Map\" style={{ position: 'fixed', 'width': '100vw', left: 0 }}>\n                <ThreeRender position={ this.state.camera.position } rotation={ this.state.camera.rotation } step={this.state.step} progress={this.state.progress}/>\n            </div>\n        </div>\n        )\n    }\n}\n\nexport default Elements"]},"metadata":{},"sourceType":"module"}